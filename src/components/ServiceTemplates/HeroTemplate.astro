---
import { Image } from 'astro:assets';
import placeholderImageSrc from '../../assets/images/placeholder.svg';

type ImageMetadata = import('astro').ImageMetadata;

interface Props {
  h1Text?: string;
  paragraphText?: string;
  buttonText?: string;
  buttonLink?: string;
  imageSrc?: ImageMetadata;
  imageAlt?: string;
  decorativeImage?: ImageMetadata;
  decorativeImageAlt?: string;
  showWaves?: boolean;
  sectionId?: string;
  heroImageWidth?: number;
  heroImageHeight?: number;
  decorativeImageWidth?: number;
  decorativeImageHeight?: number;
}

const {
  h1Text = '',
  paragraphText = '',
  buttonText = '',
  buttonLink,
  imageSrc,
  imageAlt = '',
  decorativeImage,
  decorativeImageAlt = '',
  showWaves = true,
  sectionId = 'hero',
  heroImageWidth = 600,
  heroImageHeight = 730,
  decorativeImageWidth = 1000,
  decorativeImageHeight = 200,
} = Astro.props;
---

<!-- ============================================ --><!--                    Hero                      --><!-- ============================================ -->
<section id={sectionId} class="w-full pt-12">
  <div
    class="mx-auto flex w-full max-w-screen-xl flex-col items-center justify-center gap-12 px-6 py-16 sm:gap-16 sm:py-20 md:flex-row md:gap-24 md:py-28"
  >
    <div class="flex flex-col gap-8 text-center md:gap-12 md:text-left">
      <h1 class="text-4xl/tight sm:text-5xl/tight md:text-6xl/tight" data-animate="fade-up">
        {h1Text}
      </h1>
      <p
        class="text-base-content/90 text-base leading-relaxed sm:text-lg"
        data-animate="fade-up"
        data-delay="100"
      >
        {paragraphText}
      </p>
      {
        buttonLink ? (
          <a
            href={buttonLink}
            class="btn btn-primary mx-auto w-full sm:w-2/3 md:mx-0 md:w-1/2"
            data-animate="fade-up"
            data-delay="200"
          >
            {buttonText}
          </a>
        ) : (
          <button
            class="btn btn-primary mx-auto w-full sm:w-2/3 md:mx-0 md:w-1/2"
            data-animate="fade-up"
            data-delay="200"
          >
            {buttonText}
          </button>
        )
      }

      {
        decorativeImage && (
          <Image
            class="hidden md:block md:-translate-x-12 md:-translate-y-12"
            src={decorativeImage}
            alt={decorativeImageAlt}
            width={decorativeImageWidth}
            height={decorativeImageHeight}
            data-animate="fade-in"
            data-delay="400"
          />
        )
      }
    </div>
    <!--Hero Image-->
    <Image
      src={imageSrc || placeholderImageSrc}
      alt={imageAlt}
      width={heroImageWidth}
      height={heroImageHeight}
      format="webp"
      class="relative w-full rounded-3xl shadow-lg md:w-1/2"
      data-animate="scale"
      data-delay="300"
    />
    <img
      class="absolute -z-10 max-w-full"
      decoding="async"
      fetchpriority="high"
      src="https://csimg.nyc3.cdn.digitaloceanspaces.com/Images/Graphics/noise-bg.svg"
      alt="graphic"
      width="758"
      height="758"
    />
  </div>
</section>
<!--White curve-->
{
  showWaves && (
    <>
      <svg
        class="cs-wave -mb-34 w-full md:-mb-12"
        width="1920"
        height="167"
        viewBox="0 0 1920 167"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M1920 167H0V0C111.116 45.3334 456.485 136 951 136C1445.52 136 1803.21 45.3334 1920 0V167Z"
          fill="white"
        />
      </svg>
      <svg
        class="cs-wave w-full rotate-180"
        width="1920"
        height="167"
        viewBox="0 0 1920 167"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M1920 167H0V0C111.116 45.3334 456.485 136 951 136C1445.52 136 1803.21 45.3334 1920 0V167Z"
          fill="white"
        />
      </svg>
    </>
  )
}
